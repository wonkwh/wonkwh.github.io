<!doctype html><html dir=auto lang=en><head><meta charset=utf-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1,shrink-to-fit=no" name=viewport><meta content="index, follow" name=robots><title>Fundamentals of type-driven code part1</title><meta content="keyword1, keyword2, keyword3" name=keywords><meta name=description><meta content=cydave name=author><link href=https://wonkwh.github.io/posts/fundamentals-of-typedrivencode-part1/ rel=canonical><link href=https://wonkwh.github.io/css/includes/scroll-bar.css rel=stylesheet><link href=https://wonkwh.github.io/css/styles.css rel=stylesheet><link href=https://wonkwh.github.io/css/override.css rel=stylesheet><link href=https://wonkwh.github.io/atom.xml rel=alternate title=RSS type=application/atom+xml><noscript><style>#theme-toggle,.top-link{display:none}</style> <style>@media (prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:#dadadb;--secondary:#9b9c9d;--tertiary:#414244;--content:#c4c4c5;--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><body id=top><script>if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }</script><header class=header><nav class=nav><div class=logo><a title="Kei's KnowledgeBage (Alt + H)" accesskey=h href=https://wonkwh.github.io> Kei's KnowledgeBage </a><div class=logo-switches><button title="(Alt + T)" accesskey=t id=theme-toggle><svg viewbox="0 0 24 24" fill=none height=18 id=moon stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg> <svg viewbox="0 0 24 24" fill=none height=18 id=sun stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=5></circle><line x1=12 x2=12 y1=1 y2=3></line><line x1=12 x2=12 y1=21 y2=23></line><line x1=4.22 x2=5.64 y1=4.22 y2=5.64></line><line x1=18.36 x2=19.78 y1=18.36 y2=19.78></line><line x1=1 x2=3 y1=12 y2=12></line><line x1=21 x2=23 y1=12 y2=12></line><line x1=4.22 x2=5.64 y1=19.78 y2=18.36></line><line x1=18.36 x2=19.78 y1=5.64 y2=4.22></line></svg></button><ul class=lang-switch><li></ul></div></div><ul id=menu><li><a href=https://wonkwh.github.io/archive title=Archive> <span>Archive</span> </a><li><a href=https://wonkwh.github.io/tags title=Tags> <span>Tags</span> </a><li><a href=https://wonkwh.github.io/search title=Search> <span>Search</span> </a><li><a href=https://github.com/wonkwh target=_blank title=Github> <span>Github</span> <svg viewbox="0 0 24 24" fill=none height=12 shape-rendering=geometricPrecision stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2.5 width=12><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path><path d="M15 3h6v6"></path><path d="M10 14L21 3"></path></svg> </a></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://wonkwh.github.io>Home</a>Â Â»Â  <a href=https://wonkwh.github.io/posts/>Posts</a>Â Â»Â  <a href=https://wonkwh.github.io/posts/fundamentals-of-typedrivencode-part1/>Fundamentals of type-driven code part1</a></div><h1 class=post-title>Fundamentals of type-driven code part1</h1><div class=post-meta><span title="2024-10-25 00:00:00 +0000">2024-10-25</span>Â Â·Â 3 minÂ Â·Â cydave</div></header><div class=toc><details><summary title="(Alt + C)" accesskey=c><span class=details>Table of Contents</span></summary> <div class=inner><ul><li><a aria-label="Fundamentals of type-driven code" href=#fundamentals-of-type-driven-code>Fundamentals of type-driven code</a> <ul><li><a aria-label="íƒ€ì… ì£¼ë„ ì½”ë“œì˜ ê¸°ë³¸ ì›ë¦¬" href=#taib-judo-kodeuyi-gibon-weonri>íƒ€ì… ì£¼ë„ ì½”ë“œì˜ ê¸°ë³¸ ì›ë¦¬</a></ul></ul></div></details></div><div class=post-content><p>Type Driven Code ì˜ ê¸°ë³¸ ì›ë¦¬</p><span id=continue-reading></span><h1 id=fundamentals-of-type-driven-code>Fundamentals of type-driven code<a aria-hidden=true class=anchor hidden href=#fundamentals-of-type-driven-code>#</a></h1><p>íƒ€ì… ì£¼ë„ ì½”ë“œì˜ ê¸°ë³¸ ì›ë¦¬<ul><li>ì›ë¬¸ <a href=https://swiftology.io/articles/tydd-part-1-fundamentals>Part 1 Fundamentals of type-driven code</a></ul><h2 id=taib-judo-kodeuyi-gibon-weonri>íƒ€ì… ì£¼ë„ ì½”ë“œì˜ ê¸°ë³¸ ì›ë¦¬<a aria-hidden=true class=anchor hidden href=#taib-judo-kodeuyi-gibon-weonri>#</a></h2><ul><li>íƒ€ì… ì£¼ë„ ì½”ë“œì— ëŒ€í•œ ì§ê´€ì„ ê°œë°œí•˜ë ¤ë©´ ìµìˆ™í•œ ê²ƒì—ì„œ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.<li>Swift í”„ë¡œê·¸ë˜ë¨¸ë¡œì„œ ì´ ì½”ë“œë¥¼ ë¬¸ì œê°€ ìˆë‹¤ê³  ì¦‰ì‹œ ì¸ì‹í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.</ul><pre class=language-swift data-lang=swift style=color:#c0c5ce;background-color:#2b303b><code class=language-swift data-lang=swift><span style=color:#b48ead>func </span><span>main(number: Int?) {
</span><span>  </span><span style=color:#b48ead>if</span><span> number != </span><span style=color:#d08770>nil</span><span> {
</span><span>    print(</span><span style=color:#a3be8c>"double:"</span><span>, </span><span style=color:#d08770>2 </span><span>* number!) </span><span style=color:#65737e>// ìš”ê¸°ì„œ ê°•ì œ ì–¸ë˜í•‘
</span><span>  } 
</span><span>}
</span></code></pre><ul><li>ì´ ì½”ë“œì˜ ë¬¸ì œëŠ” ë¬´ì—‡ì¼ê¹Œìš”? ë§ìŠµë‹ˆë‹¤, ì—¬ê¸°ì„œëŠ” if let ì˜µì…”ë„ ì–¸ë˜í•‘ êµ¬ë¬¸ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ê·¸ ì „ì— ì´ ì½”ë“œë¥¼ ë©´ë°€íˆ ê²€í† í•´ ë´…ì‹œë‹¤.<li>ì´ ì½”ë“œê°€Â <em>ì •í™•íˆ</em>Â ì™œ ë¬¸ì œê°€ ë ê¹Œìš”? ì˜µì…”ë„ ê°’ì„ ê°•ì œë¡œ ì–¸ë˜í•‘í•´ì•¼ í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.<li>í•˜ì§€ë§Œ ì •ë§ ê·¸ë ‡ê²Œ í° ë¬¸ì œì¼ê¹Œìš”?<li>ì´ êµ¬ë¬¸ì€ Swiftë‹µì§€ ì•Šì§€ë§Œ, ë…¼ë¦¬ëŠ” ì™„ë²½íˆ íƒ€ë‹¹í•˜ê³  ì•ˆì „í•©ë‹ˆë‹¤.<li>ì™œëƒí•˜ë©´Â <code>number</code>ê°€Â <code>nil</code>ì´ ì•„ë‹˜ì„ í™•ì¸í•œ í›„ì— ì ‘ê·¼í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.<li>ìš°ë¦¬ëŠ” Objective-Cì—ì„œë„ ì˜¤ë«ë™ì•ˆ ë¹„ìŠ·í•œ ì½”ë“œë¥¼ ì‘ì„±í•´ ì™”ìŠµë‹ˆë‹¤!<li>ë¬¸ì œëŠ” ê°•ì œ ì–¸ë˜í•‘ ìì²´ê°€ ì•„ë‹ˆë¼,Â <code>nil</code>Â ì²´í¬ í›„ì—ë„ ê°•ì œ ì–¸ë˜í•‘ì„ í•´ì•¼ í•˜ëŠ”Â <em>ì´ìœ </em> ì…ë‹ˆë‹¤.<li>ê¸°ë³¸ ë¬¸ì œë¥¼ ë” ëª…í™•íˆ í•˜ê¸° ìœ„í•´ ì§€ì—­ì„±ì„ ê¹¨ê³  ì˜µì…”ë„ ì¸ìë¥¼ ë°›ëŠ” ì™¸ë¶€ í•¨ìˆ˜ë¥¼ ì†Œê°œí•´ ë´…ì‹œë‹¤:</ul><pre class=language-swift data-lang=swift style=color:#c0c5ce;background-color:#2b303b><code class=language-swift data-lang=swift><span style=color:#65737e>// Main.swift
</span><span style=color:#b48ead>func </span><span>main(number: Int?) {
</span><span>  </span><span style=color:#b48ead>if</span><span> number != </span><span style=color:#d08770>nil</span><span> {
</span><span>    save(number)		 
</span><span>  }
</span><span>}
</span></code></pre><pre class=language-swift data-lang=swift style=color:#c0c5ce;background-color:#2b303b><code class=language-swift data-lang=swift><span style=color:#65737e>// Save.swift
</span><span style=color:#b48ead>func </span><span>save(_ number: Int?) {
</span><span>  </span><span style=color:#65737e>// âš ï¸ We don't know 
</span><span>  </span><span style=color:#65737e>// if number is nil or not,
</span><span>  </span><span style=color:#65737e>// we must check ourselves!
</span><span style=color:#b48ead>if</span><span> number != </span><span style=color:#d08770>nil</span><span> {
</span><span>  UserDefaults.standard.</span><span style=color:#b48ead>set</span><span>(
</span><span>    number!, 
</span><span>    foKey: </span><span style=color:#a3be8c>"num"
</span><span>  ) 
</span><span>} </span><span style=color:#b48ead>else</span><span> {
</span><span>    print(</span><span style=color:#a3be8c>"Err: We don't want to store nils"</span><span>)
</span><span>  }
</span><span>}
</span></code></pre><blockquote><p><strong>í†µì°° ğŸ’¡:</strong>Â ì´ ì½”ë“œì˜ ê·¼ë³¸ì ì¸ ë¬¸ì œëŠ”Â <em>ì •ë³´ ì†ì‹¤</em> ì…ë‹ˆë‹¤.Â <code>number</code>ê°€Â <code>nil</code>ì´ ì•„ë‹˜ì„ í™•ì¸í•˜ê³ Â <code>main</code>ì˜Â <code>if</code>Â ë¬¸ì„ ë²—ì–´ë‚˜ëŠ” ìˆœê°„, ì´ ì •ë³´ë¥¼ ë²„ë¦¬ê²Œ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë‚˜ì¤‘ì—Â <code>save</code>Â í•¨ìˆ˜ì—ì„œ ë‹¤ì‹œ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤. ì™œëƒí•˜ë©´Â <code>main</code>ì´ ì´ë¯¸ ìˆ˜í–‰í•œ í™•ì¸ì— ëŒ€í•œ ì •ë³´ê°€ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</blockquote><ul><li>ìš°ë¦¬ëŠ”Â <code>number</code>ê°€Â <code>nil</code>ì´ ì•„ë‹˜ì„ ë‚˜íƒ€ë‚´ëŠ” ì •ë³´ë¥¼ ìœ ì§€í•˜ê³  ì´ë¥¼ ì•ìœ¼ë¡œ ì „ë‹¬í•˜ê³ ì í•©ë‹ˆë‹¤.<li>ê·¸ë˜ì„œÂ <code>number</code>ë¥¼ ì–¸ë©í•˜ì—¬ ì„ íƒì ì´ì§€ ì•Šì€ ê°’ì„ ë‹¤ìŒ í•¨ìˆ˜ì— ì „ë‹¬í•¨ìœ¼ë¡œì¨ ë°˜ë³µì ì¸ í™•ì¸ì˜ í•„ìš”ì„±ì„ ì—†ì•±ë‹ˆë‹¤.</ul><pre class=language-swift data-lang=swift style=color:#c0c5ce;background-color:#2b303b><code class=language-swift data-lang=swift><span style=color:#b48ead>func </span><span>main(number: Int?) {
</span><span>  </span><span style=color:#b48ead>if let</span><span> number = number {
</span><span>    save(number)
</span><span>  }
</span><span>}
</span><span>
</span><span style=color:#b48ead>func </span><span>save(_ num: Int) {
</span><span>  UserDefaults.standard.</span><span style=color:#b48ead>set</span><span>(number, forKey: </span><span style=color:#a3be8c>"num"</span><span>) 
</span><span>}
</span></code></pre><ul><li>ë¬¼ë¡  ì´ê±¸ ë³´ì—¬ë“œë¦¬ëŠ” ê±´ ì„ íƒì  ì–¸ë˜í•‘(optional unwrapping ) ê³¼ non-optional typesì„ ìƒê¸°ì‹œí‚¤ê¸° ìœ„í•´ì„œë§Œì€ ì•„ë‹™ë‹ˆë‹¤<li>ì´ ì½”ë“œëŠ” ëª¨ë“  Swift í”„ë¡œê·¸ë˜ë¨¸ê°€ ì¦‰ì‹œ ì¸ì‹í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ì •ë³´ ì†ì‹¤ì˜ ì˜ˆì…ë‹ˆë‹¤.<li>ê·¸ëŸ¬ë‚˜ ì´ëŠ” ìš°ë¦¬ê°€Â <code>if let</code>Â êµ¬ë¬¸ì„ ì„ íƒì  ê°’ì— ì‚¬ìš©í•˜ë„ë¡ ì¡°ê±´í™”ë˜ì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.<li>ë™ì‹œì—, ë§ì€ Swift í”„ë¡œê·¸ë˜ë¨¸ë“¤ì€ í™”ë ¤í•œ êµ¬ë¬¸ ì§€ì›ì´ ì—†ëŠ” íƒ€ì…ì„ ë‹¤ë£° ë•Œ ë‹¤ë¥¸ ì •ë³´ ì†ì‹¤ì˜ ì‚¬ë¡€ë¥¼ ì¸ì‹í•˜ì§€ ëª»í•©ë‹ˆë‹¤.<li>ë‘ ë²ˆì§¸ ì˜ˆì œë¥¼ ê³ ë ¤í•´ ë´…ì‹œë‹¤.</ul><pre class=language-swift data-lang=swift style=color:#c0c5ce;background-color:#2b303b><code class=language-swift data-lang=swift><span style=color:#b48ead>func </span><span>main(numbers: [Int]) {
</span><span>  </span><span style=color:#b48ead>guard </span><span>!numbers.isEmpty </span><span style=color:#b48ead>else</span><span> {
</span><span>    print(</span><span style=color:#a3be8c>"No numbers, sad"</span><span>)
</span><span>    </span><span style=color:#b48ead>return
</span><span>  }
</span><span>  print(</span><span style=color:#a3be8c>"Cool numbers:"</span><span>, numbers)
</span><span>}
</span></code></pre><ul><li>ì´ ì½”ë“œëŠ” ì „í˜€ ë¬¸ì œê°€ ì—†ê³  Swiftë‹µìŠµë‹ˆë‹¤.<li>ê°•ì œ ì–¸ë˜í•‘ ê°™ì€ ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ê²ƒì´ ì—†ìœ¼ë©°, Swift í”„ë¡œê·¸ë˜ë¨¸ì˜ ë¨¸ë¦¿ì†ì— ê²½ê³ ë¥¼ ìš¸ë¦´ ë§Œí•œ ê²ƒë„ ì—†ìŠµë‹ˆë‹¤.<li>ê·¸ëŸ¬ë‚˜ ì´ ì½”ë“œëŠ” ì´ì „ ê²ƒê³¼ ë™ì¼í•œ ì¢…ë¥˜ì˜ ì •ë³´ ì†ì‹¤ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.<li>ì™¸ë¶€ í•¨ìˆ˜ì˜ ë„ì›€ìœ¼ë¡œ ë‹¤ì‹œ ì´ë¥¼ ë“œëŸ¬ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤</ul><pre class=language-swift data-lang=swift style=color:#c0c5ce;background-color:#2b303b><code class=language-swift data-lang=swift><span style=color:#65737e>// Main.swift
</span><span style=color:#b48ead>func </span><span>main(numbers: [Int]) {
</span><span>  </span><span style=color:#b48ead>if </span><span>!numbers.isEmpty {
</span><span>    save(numbers)			 
</span><span>  } </span><span style=color:#b48ead>else</span><span> {
</span><span>    print(</span><span style=color:#a3be8c>"No numbers, nothing to save..."</span><span>)
</span><span>  }
</span><span>}
</span></code></pre><pre class=language-swift data-lang=swift style=color:#c0c5ce;background-color:#2b303b><code class=language-swift data-lang=swift><span style=color:#65737e>// Save.swift
</span><span style=color:#b48ead>func </span><span>save(_ numbers: [Int]) {
</span><span>  </span><span style=color:#65737e>// âš ï¸ We don't know 
</span><span>  </span><span style=color:#65737e>// if numbers are empty or not,
</span><span>  </span><span style=color:#65737e>// and must check ourselves!
</span><span>	</span><span style=color:#b48ead>if </span><span>!numbers.isEmpty {
</span><span>	  UserDefaults.standard.</span><span style=color:#b48ead>set</span><span>(numbers, forKey: </span><span style=color:#a3be8c>"numbers"</span><span>)
</span><span>	} </span><span style=color:#b48ead>else</span><span> {
</span><span>	  print(</span><span style=color:#a3be8c>"No numbers, nothing to save..."</span><span>)
</span><span>	}
</span><span>}
</span></code></pre><ul><li>ë°°ì—´ì´ ë¹„ì–´ ìˆì§€ ì•Šë‹¤ëŠ” ê²ƒì„ ì‰½ê²Œ ê¸°ì–µí•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë©‹ì§„ ë‚´ì¥ êµ¬ë¬¸ì´ ì—†ê¸° ë•Œë¬¸ì—,<li>í”„ë¡œê·¸ë˜ë¨¸ë“¤ì´ ì´ëŸ¬í•œ ë¶ˆí¸í•¨ì„ ë¬´ì‹œí•˜ê³  ì €í’ˆì§ˆì˜ ì½”ë“œë¥¼ í™•ì‚°ì‹œí‚¤ëŠ” ê²½ìš°ê°€ ë§¤ìš° í”í•©ë‹ˆë‹¤.<li>ì´ ì˜ˆì—ì„œ ì •ë³´ ì†ì‹¤ì„ ë°©ì§€í•˜ê¸° ìœ„í•´, ë°°ì—´ì˜ ì²« ë²ˆì§¸ ìš”ì†Œë¥¼ ëª…ì‹œì ìœ¼ë¡œ ìº¡ì²˜í•˜ì—¬ ë¹„ì–´ ìˆì§€ ì•Šë‹¤ëŠ” ì¦ê±°ë¡œ ì‚¼ê³  ë‹¤ìŒ í•¨ìˆ˜ë¡œ ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤</ul><pre class=language-swift data-lang=swift style=color:#c0c5ce;background-color:#2b303b><code class=language-swift data-lang=swift><span style=color:#b48ead>func </span><span>main(numbers: [Int]) {
</span><span>  </span><span style=color:#b48ead>guard let</span><span> first = numbers.first </span><span style=color:#b48ead>else</span><span> { 
</span><span>    print(</span><span style=color:#a3be8c>"No numbers, skipping..."</span><span>)
</span><span>    </span><span style=color:#b48ead>return
</span><span>  }
</span><span>  </span><span style=color:#b48ead>let</span><span> remaining = Array(numbers.dropFirst()) 
</span><span>    save(first, remaining)	 
</span><span>  }
</span><span>
</span><span style=color:#b48ead>func </span><span>save(
</span><span>  _ first: Int,
</span><span>_ remaining: [Int]
</span><span>) {
</span><span>  UserDefaults.standard.</span><span style=color:#b48ead>set</span><span>(
</span><span>    CollectionOfOne(first) + remaining, 
</span><span>    forKey: </span><span style=color:#a3be8c>"numbers"
</span><span>  )
</span><span>}
</span></code></pre><ul><li>ì´ì œ isEmpty ê²€ì‚¬ë¥¼ ë°˜ë³µí•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.<li>ë¬¼ë¡ , ì´ë ‡ê²Œ ëª¨ë“  ê³³ì—ì„œ ë°°ì—´ì„ êµ¬ì¡° ë¶„í•´í•˜ê³  ì¬êµ¬ì„±í•˜ëŠ” ê²ƒì€ ì™„ì „í•œ ë²ˆê±°ë¡œì›€ì´ê¸° ë•Œë¬¸ì—,<li>ìš°ë¦¬ëŠ” ì´ ê³¼ì •ì„ <code>NonEmptyArray</code> íƒ€ì… ë‚´ì— ìº¡ìŠí™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</ul><pre class=language-swift data-lang=swift style=color:#c0c5ce;background-color:#2b303b><code class=language-swift data-lang=swift><span style=color:#b48ead>struct</span><span> NonEmptyArray&lt;Element> {
</span><span>  </span><span style=color:#b48ead>var</span><span> first: Element
</span><span>  </span><span style=color:#b48ead>var</span><span> remaining: [Element]
</span><span>  
</span><span>  </span><span style=color:#b48ead>var</span><span> arrayValue: [Element] { 
</span><span>    CollectionOfOne(first) + remaining
</span><span>  }
</span><span>  
</span><span>  </span><span style=color:#b48ead>init</span><span>?(_ arrayValue: [Element]) {
</span><span>    </span><span style=color:#b48ead>guard let</span><span> first = arrayValue.first </span><span style=color:#b48ead>else</span><span> {
</span><span>      </span><span style=color:#b48ead>return </span><span style=color:#d08770>nil
</span><span>    }
</span><span>    </span><span style=color:#b48ead>self</span><span>.first = first
</span><span>    remaining = Array(arrayValue.dropFirst())
</span><span>  }
</span><span>}
</span></code></pre><ul><li>NonEmptyArray íƒ€ì…ì€ ë‚´ë¶€ êµ¬ì¡°ë¥¼ í™œìš©í•´ ë¹„ì–´ìˆì§€ ì•Šë‹¤ëŠ” <strong>ì¦ê±°</strong>ë¥¼ íƒ€ì…ì— ë‹´ìŠµë‹ˆë‹¤..<li>ì´ ê¸°ìˆ ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ ì œ ê¸°ì‚¬ '<a href=https://swiftology.io/articles/structural-typing/>Greater type safety with Structural Typing in Swift</a>. ì—ì„œ ë°°ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<li>ì½”ë“œë¥¼ ì—…ë°ì´íŠ¸í•©ì‹œë‹¤:</ul><pre class=language-swift data-lang=swift style=color:#c0c5ce;background-color:#2b303b><code class=language-swift data-lang=swift><span style=color:#b48ead>func </span><span>main(numbers: [Int]) {
</span><span>  </span><span style=color:#b48ead>guard let</span><span> nonEmptyNumbers = NonEmptyArray(numbers) </span><span style=color:#b48ead>else</span><span> { 
</span><span>  print(</span><span style=color:#a3be8c>"No numbers, skipping..."</span><span>)
</span><span>  </span><span style=color:#b48ead>return
</span><span>} 
</span><span>  save(nonEmptyNumbers)	 
</span><span>}
</span><span>
</span><span style=color:#b48ead>func </span><span>save(_ numbers: NonEmptyArray&lt;Int>) {
</span><span>  UserDefaults.standard.</span><span style=color:#b48ead>set</span><span>(
</span><span>    numbers.arrayValue, 
</span><span>    forKey: </span><span style=color:#a3be8c>"numbers"
</span><span>  )
</span><span>}
</span></code></pre><blockquote><p>í†µì°°ğŸ’¡: ì •ë³´ì˜ ë³´ì¡´ê³¼ ì „íŒŒë¥¼ ìœ„í•´ íƒ€ì…ì„ ì‚¬ìš©í•˜ì„¸ìš”. ì˜ˆë¥¼ ë“¤ì–´, ê²€ì¦ì˜ ì¦ê±°ì™€ ë„ë©”ì¸ íŠ¹í™” ë¶ˆë³€ì„±ì„ í¬í•¨í•©ë‹ˆë‹¤</blockquote><ul><li>Haskell, PureScript, Elmê³¼ ê°™ì€ ì–¸ì–´ëŠ” í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œÂ <code>NonEmpty</code>Â ì»¬ë ‰ì…˜ íƒ€ì…ì„ ì œê³µ.<li>ì´ëŠ” ì •ë§ë¡œ í•„ìˆ˜ì ì´ë©°, ì´ ì‹œë¦¬ì¦ˆë¥¼ ë‹¤ ì½ê³  ë‚˜ë©´ ì½”ë“œë² ì´ìŠ¤ ì „ë°˜ì—ì„œ ë¹„ì–´ ìˆì§€ ì•Šì€ ë°°ì—´ì˜ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ë°œê²¬í•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.<li>Swiftë¥¼ ìœ„í•´ì„œëŠ” Point-Freeì˜ ê²€ì¦ëœ ì˜¤í”ˆ ì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ <a href=https://github.com/pointfreeco/swift-nonempty>swift-nonempty</a>. ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤</ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://wonkwh.github.io/tags/swift/>swift</a><li><a href=https://wonkwh.github.io/tags/type/>type</a><li><a href=https://wonkwh.github.io/tags/series/>series</a></ul><nav class=paginav><a class=prev href=https://wonkwh.github.io/search/> <span class=title>Â« Prev</span> <br> <span>Search</span> </a><a class=next href=https://wonkwh.github.io/posts/introducing-thecompositionroot-pattern/> <span class=title>Next Â»</span> <br> <span>Introducing the Composition Root Pattern in a Swift Codebase</span> </a></nav></footer></article></main><footer class=footer><span>Â© 2025 <a href=https://wonkwh.github.io>cydave</a></span><span> Powered by <a rel="noopener noreferrer" href=https://www.getzola.org/ target=_blank>Zola</a> & <a href=https://github.com/cydave/zola-theme-papermod rel=noopener target=_blank>PaperMod</a> </span></footer><a aria-label="go to top" title="Go to Top (Alt + G)" accesskey=g class=top-link href=#top id=top-link> <svg viewbox="0 0 12 6" fill=currentColor xmlns=http://www.w3.org/2000/svg><path d="M12 6H0l6-6z"/></svg> </a><script>let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });</script><script>var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };</script><script>document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })</script><script>document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';
        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                var content = codeblock.textContent;
                if(codeblock.firstChild.tagName == 'TABLE') {
                    content = Array(...codeblock.firstChild.getElementsByTagName('span')).map((span) => { return span.textContent; }).join('');
                }
                navigator.clipboard.writeText(content);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            // td containing LineNos
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            // table containing LineNos and code
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            // code blocks not having highlight as parent class
            codeblock.parentNode.appendChild(copybutton);
        }
    });</script>