<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

      <title></title>

      

      
          <link rel="stylesheet" href="https://wonkwh.github.io/site.css">
      

      
      
    </head>

    <body class="hack dark main container">
        

<article itemscope itemtype="http://schema.org/BlogPosting">
    <header>
        <h1 itemprop="headline">Intrinsic Content Size</h1>
        <span class="muted">
    <svg style="margin-bottom:-3px" class="i-clock" viewBox="0 0 32 32"
         width="16" height="16" fill="none" stroke="currentcolor"
         stroke-linecap="round" stroke-linejoin="round" stroke-width="6.25%">
        <circle cx="16" cy="16" r="14"/>
        <path d="M16 8 L16 16 20 20"/>
    </svg>
    <span>1 minute read</span>
    <svg style="margin-bottom: -3px" class="i-edit" viewBox="0 0 32 32"
         width="16" height="16" fill="none" stroke="currentcolor"
         stroke-linecap="round" stroke-linejoin="round" stroke-width="6.25%">
        <path d="M30 7 L25 2 5 22 3 29 10 27 Z M21 6 L26 11 Z M5 22 L10 27 Z"/>
    </svg>

    Published: 2019-12-06
</span>
    </header>
    <div itemprop="articleBody">
      <p><code>Intrinsic Content Size</code> 를 이용하여 심플하게 UILabel 등의 UI를 구성하는 방법</p>
<span id="continue-reading"></span><h3 id="camjo-video-course">참조 video course</h3>
<div >
    <iframe
        src="https://www.youtube.com/embed/WWXImLOSABM"
        webkitallowfullscreen
        mozallowfullscreen
        allowfullscreen>
    </iframe>
</div><h3 id="sample-code">sample code</h3>
<pre data-lang="swift" style="background-color:#2b303b;color:#c0c5ce;" class="language-swift "><code class="language-swift" data-lang="swift"><span style="color:#65737e;">//
</span><span style="color:#65737e;">//  BadgeView.swift
</span><span style="color:#65737e;">//  DesignKit-iOS
</span><span style="color:#65737e;">//
</span><span style="color:#65737e;">//  Created by kwanghyun.won on 2019/12/05.
</span><span style="color:#65737e;">//  Copyright © 2019 Vingle. All rights reserved.
</span><span style="color:#65737e;">//
</span><span>
</span><span style="color:#b48ead;">import </span><span>UIKit
</span><span>
</span><span style="color:#b48ead;">open class</span><span> BadgeLabel: UILabel {
</span><span>    </span><span style="color:#b48ead;">open override var</span><span> intrinsicContentSize: CGSize {
</span><span>        </span><span style="color:#b48ead;">let</span><span> originalContentsSize = </span><span style="color:#b48ead;">super</span><span>.intrinsicContentSize
</span><span>        </span><span style="color:#b48ead;">return</span><span> CGSize(width: originalContentsSize.width + </span><span style="color:#d08770;">11</span><span>, linearity: originalContentsSize. + </span><span style="color:#d08770;">5</span><span>.</span><span style="color:#d08770;">5</span><span>)
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">public override init</span><span>(frame: CGRect) {
</span><span>        </span><span style="color:#b48ead;">super</span><span>.</span><span style="color:#b48ead;">init</span><span>(frame: frame)
</span><span>
</span><span>        backgroundColor = Colors.primary.withAlphaComponent(</span><span style="color:#d08770;">0</span><span>.</span><span style="color:#d08770;">9</span><span>)
</span><span>        textColor = .white
</span><span>        textAlignment = .center
</span><span>        font = Fonts.caption
</span><span>        translatesAutoresizingMaskIntoConstraints = </span><span style="color:#b48ead;">false
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">open override func </span><span>layoutSubviews() {
</span><span>        </span><span style="color:#b48ead;">super</span><span>.layoutSubviews()
</span><span>        </span><span style="color:#b48ead;">if let</span><span> count = text?.count {
</span><span>            </span><span style="color:#b48ead;">if</span><span> count == </span><span style="color:#d08770;">1</span><span> {
</span><span>                frame.size = .</span><span style="color:#b48ead;">init</span><span>(width: </span><span style="color:#d08770;">20</span><span>, : </span><span style="color:#d08770;">20</span><span>)
</span><span>            }
</span><span>        }
</span><span>        
</span><span>        setCorner(</span><span style="color:#d08770;">10</span><span>.</span><span style="color:#d08770;">0</span><span>)
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">required public init</span><span>?(coder: NSCoder) {
</span><span>        fatalError(</span><span style="color:#a3be8c;">&quot;init(coder:) has not been implemented&quot;</span><span>)
</span><span>    }
</span><span>}
</span></code></pre>
<blockquote>
<p>사전적의미: intrinsic Content Size : 본질적인 컨텐츠 크기</p>
</blockquote>
<ul>
<li>위와 같이 <code>UILabel</code>의 서브클래스 BadgeLabel 에서 <code>intrinsicContentSize</code> 을 재정의하여 view의 사이즈를 의 영역을 재정의한다. </li>
<li><code>instrinsicContentSize</code>에 영향을 미치는 뷰의 속성 또는 컨텐츠가 바뀔때 <code>invalidateIntrinsicContentSize()</code> 를 호출해야한다. (이 메서드에서 오토레이아웃이 사이즈 제약조건이 다시 업데이트됨)</li>
</ul>
<h2 id="camjo">참조</h2>
<ul>
<li><a href="https://developer.apple.com/documentation/uikit/uiview/1622600-intrinsiccontentsize">apple doc</a></li>
<li><a href="https://magi82.github.io/ios-intrinsicContentSize/">ios intrinsicContentSize에 대해서 알아보기</a></li>
<li><a href="https://medium.com/@vialyx/import-uikit-what-is-intrinsic-content-size-20ae302f21f3">iOS UIKit: What is intrinsic content size</a></li>
</ul>
<hr />
<ul>
<li>tag: #uikit, #uilabel, #IntrinsicContentSize, #customView</li>
</ul>

    </div>

    
        <footer>
            <hr>
            <p>
                
                    Published by Kwanghyun Won
                
                
                
                    and tagged
                    
                        <a href="https://wonkwh.github.io/tags/uikit/">uikit</a>
                        
                            
                                
                                    ,
                                
                            
                        
                    
                        <a href="https://wonkwh.github.io/tags/uilabel/">UILabel</a>
                        
                            
                                
                                    ,
                                
                            
                        
                    
                        <a href="https://wonkwh.github.io/tags/intrinsiccontentsize/">IntrinsicContentSize</a>
                        
                            
                                
                                    and
                                
                            
                        
                    
                        <a href="https://wonkwh.github.io/tags/custom-view/">custom_view</a>
                        
                            
                        
                    
                
            </p>
        </footer>
    
</article>


    </body>

</html>
